<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>5.0</version>
    <date>2021-06-19T12:14:06Z</date>
    <groups>
        <group>
            <name>Templates</name>
        </group>
    </groups>
    <templates>
        <template>
            <template>Template_Netgear_ReadyNas</template>
            <name>Template_Netgear_ReadyNas</name>
            <templates>
                <template>
                    <name>Template_SNMP_Interfaces</name>
                </template>
            </templates>
            <groups>
                <group>
                    <name>Templates</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Disk</name>
                </application>
                <application>
                    <name>Fans</name>
                </application>
                <application>
                    <name>General</name>
                </application>
                <application>
                    <name>Temperatures</name>
                </application>
                <application>
                    <name>Volume</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Serial number</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.4526.22.2.0</snmp_oid>
                    <key>nasMgrSerialNUM</key>
                    <delay>1h</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>General</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Firmware version</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.4526.22.1.0</snmp_oid>
                    <key>nasMgrSoftwareVersion</key>
                    <delay>1h</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>General</name>
                        </application>
                    </applications>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <name>Discovery_Disk</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.4526.22.3.1.1]</snmp_oid>
                    <key>Disk</key>
                    <delay>1h</delay>
                    <item_prototypes>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_ataError</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.4526.22.3.1.6.{#SNMPINDEX}</snmp_oid>
                            <key>DiskAtaError[{#SNMPVALUE}]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <applications>
                                <application>
                                    <name>Disk</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_DiskCapacity</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.4526.22.3.1.7.{#SNMPINDEX}</snmp_oid>
                            <key>DiskCapacity[{#SNMPVALUE}]</key>
                            <delay>8h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <units>B</units>
                            <applications>
                                <application>
                                    <name>Disk</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_DiskID</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.4526.22.3.1.2.{#SNMPINDEX}</snmp_oid>
                            <key>DiskID[{#SNMPVALUE}]</key>
                            <delay>8h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <applications>
                                <application>
                                    <name>Disk</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_DiskInterface</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.4526.22.3.1.8.{#SNMPINDEX}</snmp_oid>
                            <key>DiskInterface[{#SNMPVALUE}]</key>
                            <delay>12h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <applications>
                                <application>
                                    <name>Disk</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_DiskModel</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.4526.22.3.1.5.{#SNMPINDEX}</snmp_oid>
                            <key>DiskModel[{#SNMPVALUE}]</key>
                            <delay>8h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <applications>
                                <application>
                                    <name>Disk</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_DiskSerial</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.4526.22.3.1.4.{#SNMPINDEX}</snmp_oid>
                            <key>DiskSerial[{#SNMPVALUE}]</key>
                            <delay>8h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <applications>
                                <application>
                                    <name>Disk</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_DiskSlotName</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.4526.22.3.1.3.{#SNMPINDEX}</snmp_oid>
                            <key>DiskSlotName[{#SNMPVALUE}]</key>
                            <delay>1h</delay>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <applications>
                                <application>
                                    <name>Disk</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_DiskState</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.4526.22.3.1.9.{#SNMPINDEX}</snmp_oid>
                            <key>DiskState[{#SNMPVALUE}]</key>
                            <delay>5m</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <applications>
                                <application>
                                    <name>Disk</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{regexp(&quot;ONLINE&quot;)}&lt;&gt;1</expression>
                                    <name>Disk [{#SNMPVALUE}] status on {HOST.NAME} is {ITEM.LASTVALUE1}</name>
                                    <priority>DISASTER</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_DiskTemperature</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.4526.22.3.1.10.{#SNMPINDEX}</snmp_oid>
                            <key>DiskTemperature[{#SNMPVALUE}]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <value_type>FLOAT</value_type>
                            <units>°C</units>
                            <applications>
                                <application>
                                    <name>Disk</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last(0)}&gt;{$NETGEAR_HD_TEMP_WARN}</expression>
                                    <name>Disk [{#SNMPVALUE}] temp is {ITEM.LASTVALUE1}</name>
                                    <priority>HIGH</priority>
                                    <description>Disk temp is more than 50C</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>Disk Temperature {#SNMPVALUE}</name>
                            <show_work_period>NO</show_work_period>
                            <show_triggers>NO</show_triggers>
                            <graph_items>
                                <graph_item>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>00C800</color>
                                    <item>
                                        <host>Template_Netgear_ReadyNas</host>
                                        <key>DiskTemperature[{#SNMPVALUE}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Discovery_Fan</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.4526.22.4.1.1]</snmp_oid>
                    <key>Fan</key>
                    <delay>1h</delay>
                    <item_prototypes>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_FanRPM</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.4526.22.4.1.2.{#SNMPINDEX}</snmp_oid>
                            <key>FanRPM[{#SNMPVALUE}]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>rpm</units>
                            <applications>
                                <application>
                                    <name>Fans</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_FanStatus</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.4526.22.4.1.3.{#SNMPINDEX}</snmp_oid>
                            <key>FanStatus[{#SNMPVALUE}]</key>
                            <delay>5m</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <applications>
                                <application>
                                    <name>Fans</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{regexp(&quot;ok&quot;)}&lt;&gt;1</expression>
                                    <name>Fan [{#SNMPVALUE}] status is {ITEM.LASTVALUE1}</name>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_FanType</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.4526.22.4.1.4.{#SNMPINDEX}</snmp_oid>
                            <key>FanType[{#SNMPVALUE}]</key>
                            <delay>8h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <applications>
                                <application>
                                    <name>Fans</name>
                                </application>
                            </applications>
                        </item_prototype>
                    </item_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>Fan RPM {#SNMPVALUE}</name>
                            <graph_items>
                                <graph_item>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>1A7C11</color>
                                    <item>
                                        <host>Template_Netgear_ReadyNas</host>
                                        <key>FanRPM[{#SNMPVALUE}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Discovery_Temperatures</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.4526.22.5.1.1]</snmp_oid>
                    <key>Temperature</key>
                    <delay>1h</delay>
                    <item_prototypes>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_temperatureMax</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.4526.22.5.1.5.{#SNMPINDEX}</snmp_oid>
                            <key>TemperatureMax[{#SNMPVALUE}]</key>
                            <delay>1h</delay>
                            <trends>1825d</trends>
                            <value_type>FLOAT</value_type>
                            <units>°C</units>
                            <applications>
                                <application>
                                    <name>Temperatures</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_temperatureMin</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.4526.22.5.1.4.{#SNMPINDEX}</snmp_oid>
                            <key>TemperatureMin[{#SNMPVALUE}]</key>
                            <delay>1h</delay>
                            <trends>1825d</trends>
                            <value_type>FLOAT</value_type>
                            <units>°C</units>
                            <applications>
                                <application>
                                    <name>Temperatures</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_temperatureType</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.4526.22.5.1.3.{#SNMPINDEX}</snmp_oid>
                            <key>TemperatureType[{#SNMPVALUE}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <applications>
                                <application>
                                    <name>Temperatures</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_temperatureValue</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.4526.22.5.1.2.{#SNMPINDEX}</snmp_oid>
                            <key>TemperatureValue[{#SNMPVALUE}]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>°</units>
                            <description>We use a unsigned int to prevent -1° Temperatures which are sometimes returned by the ReadyNAS.&#13;
Seems to be a know problem in ReadyNAS SNMP implementation.&#13;
&#13;
https://community.netgear.com/t5/ReadyNAS-in-Business/Insane-disk-temp-readings-from-ReadyNAS-3100/td-p/928290</description>
                            <applications>
                                <application>
                                    <name>Temperatures</name>
                                </application>
                            </applications>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes>
                        <trigger_prototype>
                            <expression>{Template_Netgear_ReadyNas:TemperatureValue[{#SNMPVALUE}].last()}&lt;{Template_Netgear_ReadyNas:TemperatureMin[{#SNMPVALUE}].last()} or  {Template_Netgear_ReadyNas:TemperatureValue[{#SNMPVALUE}].last()}&gt;{Template_Netgear_ReadyNas:TemperatureMax[{#SNMPVALUE}].last()}</expression>
                            <name>Temperature [{#SNMPVALUE}] is {ITEM.LASTVALUE1}</name>
                            <priority>AVERAGE</priority>
                        </trigger_prototype>
                    </trigger_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>Temperature {#SNMPVALUE}</name>
                            <ymin_type_1>ITEM</ymin_type_1>
                            <ymin_item_1>
                                <host>Template_Netgear_ReadyNas</host>
                                <key>TemperatureMin[{#SNMPVALUE}]</key>
                            </ymin_item_1>
                            <ymax_type_1>ITEM</ymax_type_1>
                            <ymax_item_1>
                                <host>Template_Netgear_ReadyNas</host>
                                <key>TemperatureMax[{#SNMPVALUE}]</key>
                            </ymax_item_1>
                            <graph_items>
                                <graph_item>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>1A7C11</color>
                                    <item>
                                        <host>Template_Netgear_ReadyNas</host>
                                        <key>TemperatureValue[{#SNMPVALUE}]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <color>EF9A9A</color>
                                    <item>
                                        <host>Template_Netgear_ReadyNas</host>
                                        <key>TemperatureMin[{#SNMPVALUE}]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>2</sortorder>
                                    <color>FFCA28</color>
                                    <item>
                                        <host>Template_Netgear_ReadyNas</host>
                                        <key>TemperatureMax[{#SNMPVALUE}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Discovery_Volume</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.4526.22.7.1.1]</snmp_oid>
                    <key>Volume</key>
                    <delay>1h</delay>
                    <item_prototypes>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_VolumeFreeSpace</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.4526.22.7.1.6.{#SNMPINDEX}</snmp_oid>
                            <key>volumeFreeSpace[{#SNMPVALUE}]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>B</units>
                            <applications>
                                <application>
                                    <name>Volume</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>1048576</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_VolumeName</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.4526.22.7.1.2.{#SNMPINDEX}</snmp_oid>
                            <key>volumeName[{#SNMPVALUE}]</key>
                            <delay>1h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <applications>
                                <application>
                                    <name>Volume</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_volumeRAIDLevel</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.4526.22.7.1.3.{#SNMPINDEX}</snmp_oid>
                            <key>volumeRAIDLevel[{#SNMPVALUE}]</key>
                            <delay>8h</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <applications>
                                <application>
                                    <name>Volume</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_VolumeSize</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.4526.22.7.1.5.{#SNMPINDEX}</snmp_oid>
                            <key>volumeSize[{#SNMPVALUE}]</key>
                            <delay>1h</delay>
                            <trends>1825d</trends>
                            <units>B</units>
                            <applications>
                                <application>
                                    <name>Volume</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>1048576</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_VolumeStatus</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.4526.22.7.1.4.{#SNMPINDEX}</snmp_oid>
                            <key>volumeStatus[{#SNMPVALUE}]</key>
                            <delay>5m</delay>
                            <history>30d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <applications>
                                <application>
                                    <name>Volume</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{regexp(&quot;REDUNDANT&quot;)}&lt;&gt;1 and {regexp(&quot;UNPROTECTED&quot;)}&lt;&gt;1</expression>
                                    <name>Volume[{#SNMPVALUE}] on {HOST.NAME} is {ITEM.LASTVALUE1}</name>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>[{#SNMPVALUE}]_VolumeUsedSpace</name>
                            <type>CALCULATED</type>
                            <key>volumeUsedSpace[{#SNMPVALUE}]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>B</units>
                            <params>last(volumeSize[{#SNMPVALUE}])-last(volumeFreeSpace[{#SNMPVALUE}])</params>
                            <applications>
                                <application>
                                    <name>Disk</name>
                                </application>
                            </applications>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes>
                        <trigger_prototype>
                            <expression>({Template_Netgear_ReadyNas:volumeFreeSpace[{#SNMPVALUE}].last()} / {Template_Netgear_ReadyNas:volumeSize[{#SNMPVALUE}].last()} * 100) &gt; {$NETGEAR_VOL_USAGE_WARN}</expression>
                            <name>Volume {#SNMPVALUE} has {ITEM.LASTVALUE1} free space</name>
                            <priority>WARNING</priority>
                        </trigger_prototype>
                    </trigger_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>Volume Size {#SNMPVALUE}</name>
                            <ymin_type_1>FIXED</ymin_type_1>
                            <ymax_type_1>ITEM</ymax_type_1>
                            <ymax_item_1>
                                <host>Template_Netgear_ReadyNas</host>
                                <key>volumeSize[{#SNMPVALUE}]</key>
                            </ymax_item_1>
                            <graph_items>
                                <graph_item>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>E1F5FE</color>
                                    <item>
                                        <host>Template_Netgear_ReadyNas</host>
                                        <key>volumeSize[{#SNMPVALUE}]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <color>26A69A</color>
                                    <item>
                                        <host>Template_Netgear_ReadyNas</host>
                                        <key>volumeUsedSpace[{#SNMPVALUE}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                </discovery_rule>
            </discovery_rules>
            <macros>
                <macro>
                    <macro>{$NETGEAR_HD_TEMP_WARN}</macro>
                    <value>50</value>
                </macro>
                <macro>
                    <macro>{$NETGEAR_VOL_USAGE_WARN}</macro>
                    <value>90</value>
                </macro>
            </macros>
        </template>
    </templates>
</zabbix_export>
