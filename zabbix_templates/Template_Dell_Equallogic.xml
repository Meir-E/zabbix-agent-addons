<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>5.0</version>
    <date>2021-06-19T12:05:32Z</date>
    <groups>
        <group>
            <name>Templates</name>
        </group>
    </groups>
    <templates>
        <template>
            <template>Template Dell Equallogic</template>
            <name>Template Dell Equallogic</name>
            <templates>
                <template>
                    <name>Template_SNMP_Interfaces</name>
                </template>
            </templates>
            <groups>
                <group>
                    <name>Templates</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Disks</name>
                </application>
                <application>
                    <name>Fan</name>
                </application>
                <application>
                    <name>General</name>
                </application>
                <application>
                    <name>Pools</name>
                </application>
                <application>
                    <name>Temperature</name>
                </application>
                <application>
                    <name>Volume</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Health status</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.12740.2.1.5.1.1.1.{$EQL_ID}</snmp_oid>
                    <key>eqlMemberHealthStatus</key>
                    <delay>30</delay>
                    <trends>1825d</trends>
                    <applications>
                        <application>
                            <name>General</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>eqlMemberHealthStatus</name>
                    </valuemap>
                    <triggers>
                        <trigger>
                            <expression>{max(#2)}&lt;&gt;1</expression>
                            <name>Health Status</name>
                            <priority>HIGH</priority>
                        </trigger>
                        <trigger>
                            <expression>{nodata(600)}=1</expression>
                            <name>no SNMP-Data recieved since &gt;10m</name>
                            <priority>AVERAGE</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Raid Status</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.12740.2.1.13.1.1.1.{$EQL_ID}</snmp_oid>
                    <key>eqlMemberRaidStatus</key>
                    <delay>120</delay>
                    <trends>1825d</trends>
                    <applications>
                        <application>
                            <name>General</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>eqlMemberRaidStatus</name>
                    </valuemap>
                    <triggers>
                        <trigger>
                            <expression>{last()}&lt;&gt;1</expression>
                            <name>Raid Status</name>
                            <priority>HIGH</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Read IOPS</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.12740.2.1.12.1.6.1.{$EQL_ID}</snmp_oid>
                    <key>eqlMemberReadOpCount</key>
                    <delay>120</delay>
                    <trends>1825d</trends>
                    <units>iops</units>
                    <applications>
                        <application>
                            <name>General</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>CHANGE_PER_SECOND</type>
                            <params/>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Used replication space</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.12740.2.1.10.1.4.1.{$EQL_ID}</snmp_oid>
                    <key>eqlMemberReplStorage</key>
                    <delay>900</delay>
                    <trends>1825d</trends>
                    <applications>
                        <application>
                            <name>General</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Used snapshot space</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.12740.2.1.10.1.3.1.{$EQL_ID}</snmp_oid>
                    <key>eqlMemberSnapStorage</key>
                    <delay>600</delay>
                    <trends>1825d</trends>
                    <applications>
                        <application>
                            <name>General</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Total Storage</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.12740.2.1.10.1.1.1.{$EQL_ID}</snmp_oid>
                    <key>eqlMemberTotalStorage</key>
                    <delay>3600</delay>
                    <trends>1825d</trends>
                    <units>b</units>
                    <applications>
                        <application>
                            <name>General</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <params>1048576</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Used Storage</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.12740.2.1.10.1.2.1.{$EQL_ID}</snmp_oid>
                    <key>eqlMemberUsedStorage</key>
                    <delay>300</delay>
                    <trends>1825d</trends>
                    <units>B</units>
                    <applications>
                        <application>
                            <name>General</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <params>1048576</params>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Write IOPS</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.12740.2.1.12.1.7.1.{$EQL_ID}</snmp_oid>
                    <key>eqlMemberWriteOpCount</key>
                    <delay>120</delay>
                    <trends>1825d</trends>
                    <units>iops</units>
                    <applications>
                        <application>
                            <name>General</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>CHANGE_PER_SECOND</type>
                            <params/>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <name>Used Storage Percent</name>
                    <type>CALCULATED</type>
                    <key>MemberUsedStoragePercent</key>
                    <delay>300</delay>
                    <trends>1825d</trends>
                    <units>%</units>
                    <params>100*last(&quot;eqlMemberUsedStorage&quot;,0) /last(&quot;eqlMemberTotalStorage&quot;,0)</params>
                    <applications>
                        <application>
                            <name>General</name>
                        </application>
                    </applications>
                    <triggers>
                        <trigger>
                            <expression>{min(#2)}&gt;95</expression>
                            <name>low free Storage (&gt;95%)</name>
                            <priority>HIGH</priority>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <name>Controller battery discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.12740.4.1.1.1.5.1.{$EQL_ID}]</snmp_oid>
                    <key>eqlControllerBatteryStatus</key>
                    <delay>2h</delay>
                    <lifetime>1d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Controller {#SNMPINDEX} Battery status</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.4.1.1.1.5.1.{$EQL_ID}.{#SNMPINDEX}</snmp_oid>
                            <key>eqlControllerBatteryStatus.[{#SNMPINDEX}]</key>
                            <delay>900</delay>
                            <trends>1825d</trends>
                            <applications>
                                <application>
                                    <name>General</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>eqlControllerBatteryStatus</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&lt;&gt;1</expression>
                                    <name>Controller battery status ({#SNMPINDEX}) is {ITEM.LASTVALUE1}</name>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Fan discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.12740.2.1.7.1.2.1.{$EQL_ID}]</snmp_oid>
                    <key>eqlMemberHealthDetailsFanName</key>
                    <delay>8h</delay>
                    <lifetime>1d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Fan: Status of {#SNMPVALUE}</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.2.1.7.1.4.1.{$EQL_ID}.{#SNMPINDEX}</snmp_oid>
                            <key>eqlMemberHealthDetailsFanCurrentState.[{#SNMPVALUE}]</key>
                            <delay>300</delay>
                            <trends>1825d</trends>
                            <applications>
                                <application>
                                    <name>Fan</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>eqlMemberHealthDetailsFanCurrentState</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&lt;&gt;1</expression>
                                    <name>Fan Failure ({#SNMPINDEX})</name>
                                    <priority>AVERAGE</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Fan: Speed of {#SNMPVALUE}</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.2.1.7.1.3.1.{$EQL_ID}.{#SNMPINDEX}</snmp_oid>
                            <key>eqlMemberHealthDetailsFanValue.[{#SNMPVALUE}]</key>
                            <delay>300</delay>
                            <trends>1825d</trends>
                            <units>rpm</units>
                            <applications>
                                <application>
                                    <name>Fan</name>
                                </application>
                            </applications>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Power supply discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.12740.2.1.8.1.2.1.{$EQL_ID}]</snmp_oid>
                    <key>eqlMemberHealthDetailsPowerSupply</key>
                    <delay>8h</delay>
                    <lifetime>2d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>EQL: Power supply: Status of {#SNMPVALUE}</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.2.1.8.1.3.1.{$EQL_ID}.{#SNMPINDEX}</snmp_oid>
                            <key>eqlMemberHealthDetailsPowerSupplyEntry.[{#SNMPVALUE}]</key>
                            <delay>15m</delay>
                            <trends>1825d</trends>
                            <applications>
                                <application>
                                    <name>General</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>eqlMemberHealthDetailsPowerSupplyCurrentState</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&lt;&gt;1</expression>
                                    <name>Power supply {#SNMPVALUE} is faulty</name>
                                    <priority>AVERAGE</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Temperature sensors discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.12740.2.1.6.1.2.1.{$EQL_ID}]</snmp_oid>
                    <key>eqlMemberHealthDetailsTemperatureName</key>
                    <delay>8h</delay>
                    <lifetime>1d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Temperature status of {#SNMPVALUE}</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.2.1.6.1.4.1.{$EQL_ID}.{#SNMPINDEX}</snmp_oid>
                            <key>eqlMemberHealthDetailsTemperatureCurrentState.[{#SNMPVALUE}]</key>
                            <delay>10m</delay>
                            <trends>1825d</trends>
                            <applications>
                                <application>
                                    <name>Temperature</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>eqlMemberHealthDetailsTemperatureCurrentState</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{max(#2)}&lt;&gt;1 and {max(#2)}&lt;&gt;0</expression>
                                    <name>{#SNMPVALUE} Temperature sensors is faulty</name>
                                    <priority>AVERAGE</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Temperature of {#SNMPVALUE}</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.12740.2.1.6.1.3.1.{$EQL_ID}.{#SNMPINDEX}</snmp_oid>
                            <key>eqlMemberHealthDetailsTemperatureValue.[{#SNMPVALUE}]</key>
                            <delay>10m</delay>
                            <trends>1825d</trends>
                            <units>C</units>
                            <applications>
                                <application>
                                    <name>Temperature</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{min(#3)}&gt;80</expression>
                                    <name>High Temperature on {#SNMPVALUE} sensor</name>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Disk discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.12740.3.1.1.1.10.1.{$EQL_ID}]</snmp_oid>
                    <key>snmp.discovery.sanmembers</key>
                    <delay>2h</delay>
                    <lifetime>7d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Disk {#SNMPINDEX} status</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.3.1.1.1.8.1.{$EQL_ID}.{#SNMPINDEX}</snmp_oid>
                            <key>eqlDiskStatus.[{#SNMPINDEX}]</key>
                            <delay>300</delay>
                            <trends>1825d</trends>
                            <applications>
                                <application>
                                    <name>Disks</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>eqlDiskStatus</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last(0)}&lt;&gt;1 and {last(0)}&lt;&gt;2</expression>
                                    <name>Disk {#SNMPVALUE} status</name>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Disk {#SNMPINDEX} Read</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.3.1.2.1.2.1.{$EQL_ID}.{#SNMPINDEX}</snmp_oid>
                            <key>eqlDiskStatusBytesRead.[{#SNMPINDEX}]</key>
                            <delay>180</delay>
                            <trends>1825d</trends>
                            <units>B/s</units>
                            <applications>
                                <application>
                                    <name>Disks</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>1000000</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Disk {#SNMPINDEX} Writes</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.3.1.2.1.3.1.{$EQL_ID}.{#SNMPINDEX}</snmp_oid>
                            <key>eqlDiskStatusBytesWritten.[{#SNMPINDEX}]</key>
                            <delay>180</delay>
                            <trends>1825d</trends>
                            <units>B/s</units>
                            <applications>
                                <application>
                                    <name>Disks</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>1000000</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Disk {#SNMPINDEX} total queue depth</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.3.1.2.1.8.1.{$EQL_ID}.{#SNMPINDEX}</snmp_oid>
                            <key>eqlDiskStatusTotalQD.[{#SNMPINDEX}]</key>
                            <delay>120</delay>
                            <trends>1825d</trends>
                            <applications>
                                <application>
                                    <name>Disks</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>SIMPLE_CHANGE</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Disk {#SNMPINDEX} succesful transfers</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.3.1.2.1.1.1.{$EQL_ID}.{#SNMPINDEX}</snmp_oid>
                            <key>eqlDiskStatusXfers.[{#SNMPINDEX}]</key>
                            <delay>120</delay>
                            <trends>1825d</trends>
                            <applications>
                                <application>
                                    <name>Disks</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>SIMPLE_CHANGE</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Pools discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.12740.16.1.1.1.3.1]</snmp_oid>
                    <key>snmp.discovery.sanpools</key>
                    <delay>2h</delay>
                    <lifetime>7d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE}: DelegatedSpaceFree</name>
                            <type>CALCULATED</type>
                            <key>eql.pool.space.delegated.free[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>B</units>
                            <params>last(&quot;eqlStoragePoolStatsDelegatedSpace.[\&quot;{#SNMPINDEX}\&quot;]&quot;)-last(&quot;eqlStoragePoolStatsDelegatedSpaceUsed.[\&quot;{#SNMPINDEX}\&quot;]&quot;)</params>
                            <applications>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE}: DelegatedSpaceUsed %</name>
                            <type>CALCULATED</type>
                            <key>eql.pool.space.delegated.used.pct[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>%</units>
                            <params>100*last(&quot;eqlStoragePoolStatsDelegatedSpaceUsed.[\&quot;{#SNMPINDEX}\&quot;]&quot;)/(last(&quot;eqlStoragePoolStatsDelegatedSpace.[\&quot;{#SNMPINDEX}\&quot;]&quot;)+count(&quot;eqlStoragePoolStatsDelegatedSpace.[\&quot;{#SNMPINDEX}\&quot;]&quot;,#1,0))</params>
                            <applications>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&gt;{$EQL_POOL_DELEGATED_CRITICAL}</expression>
                                    <name>Delegated space on pool {#SNMPVALUE} is {ITEM.LASTVALUE1} used</name>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}&gt;{$EQL_POOL_DELEGATED_WARN}</expression>
                                    <name>Delegated space on pool {#SNMPVALUE} is {ITEM.LASTVALUE1} used</name>
                                    <priority>WARNING</priority>
                                    <dependencies>
                                        <dependency>
                                            <name>Delegated space on pool {#SNMPVALUE} is {ITEM.LASTVALUE1} used</name>
                                            <expression>{Template Dell Equallogic:eql.pool.space.delegated.used.pct[&quot;{#SNMPINDEX}&quot;].last()}&gt;{$EQL_POOL_DELEGATED_CRITICAL}</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE}: ReplicationSpaceFree</name>
                            <type>CALCULATED</type>
                            <key>eql.pool.space.replication.free[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>B</units>
                            <params>last(&quot;eqlStoragePoolStatsReplicationSpace.[\&quot;{#SNMPINDEX}\&quot;]&quot;)-last(&quot;eqlStoragePoolStatsReplicationSpaceUsed.[\&quot;{#SNMPINDEX}\&quot;]&quot;)</params>
                            <applications>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE}: ReplicationSpaceUsed %</name>
                            <type>CALCULATED</type>
                            <key>eql.pool.space.replication.used.pct[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>%</units>
                            <params>100*last(&quot;eqlStoragePoolStatsReplicationSpaceUsed.[\&quot;{#SNMPINDEX}\&quot;]&quot;)/last(&quot;eqlStoragePoolStatsReplicationSpace.[\&quot;{#SNMPINDEX}\&quot;]&quot;)</params>
                            <applications>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&gt;{$EQL_POOL_REPL_CRITICAL}</expression>
                                    <name>Replication space on pool {#SNMPVALUE} is {ITEM.LASTVALUE} used</name>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}&gt;{$EQL_POOL_REPL_WARN}</expression>
                                    <name>Replication space on pool {#SNMPVALUE} is {ITEM.LASTVALUE} used</name>
                                    <priority>WARNING</priority>
                                    <dependencies>
                                        <dependency>
                                            <name>Replication space on pool {#SNMPVALUE} is {ITEM.LASTVALUE} used</name>
                                            <expression>{Template Dell Equallogic:eql.pool.space.replication.used.pct[&quot;{#SNMPINDEX}&quot;].last()}&gt;{$EQL_POOL_REPL_CRITICAL}</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE}: SnapshotSpaceFree</name>
                            <type>CALCULATED</type>
                            <key>eql.pool.space.snapshot.free[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>B</units>
                            <params>last(&quot;eqlStoragePoolStatsSnapshotReserved.[\&quot;{#SNMPINDEX}\&quot;]&quot;)-last(&quot;eqlStoragePoolStatsSnapshotUsed.[\&quot;{#SNMPINDEX}\&quot;]&quot;)</params>
                            <applications>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE}: SnapshotUsed %</name>
                            <type>CALCULATED</type>
                            <key>eql.pool.space.snapshot.used.pct[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>%</units>
                            <params>100*last(&quot;eqlStoragePoolStatsSnapshotUsed.[\&quot;{#SNMPINDEX}\&quot;]&quot;)/last(&quot;eqlStoragePoolStatsSnapshotReserved.[\&quot;{#SNMPINDEX}\&quot;]&quot;)</params>
                            <applications>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}&gt;{$EQL_POOL_SNAP_WARN}</expression>
                                    <name>Pool {#SNMPVALUE} snapshot space is {ITEM.LASTVALUE} used</name>
                                    <priority>WARNING</priority>
                                    <dependencies>
                                        <dependency>
                                            <name>Snapshot space on pool {#SNMPVALUE} is {ITEM.LASTVALUE} used</name>
                                            <expression>{Template Dell Equallogic:eql.pool.space.snapshot.used.pct[&quot;{#SNMPINDEX}&quot;].last()}&gt;{$EQL_POOL_SNAP_CRITICAL}</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}&gt;{$EQL_POOL_SNAP_CRITICAL}</expression>
                                    <name>Snapshot space on pool {#SNMPVALUE} is {ITEM.LASTVALUE} used</name>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE} SpaceUsed %</name>
                            <type>CALCULATED</type>
                            <key>eql.pool.space.used.pct.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>%</units>
                            <params>100*last(&quot;eqlStoragePoolStatsSpaceUsed.[\&quot;{#SNMPINDEX}\&quot;]&quot;)/last(&quot;eqlStoragePoolStatsSpace.[\&quot;{#SNMPINDEX}\&quot;]&quot;)</params>
                            <applications>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last(0)}&gt;{$EQL_POOL_USED_CRITICAL}</expression>
                                    <name>Pool {#SNMPVALUE} is {ITEM.LASTVALUE} used</name>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last(0)}&gt;{$EQL_POOL_USED_WARN}</expression>
                                    <name>Pool {#SNMPVALUE} is {ITEM.LASTVALUE} used</name>
                                    <priority>WARNING</priority>
                                    <dependencies>
                                        <dependency>
                                            <name>Pool {#SNMPVALUE} is {ITEM.LASTVALUE} used</name>
                                            <expression>{Template Dell Equallogic:eql.pool.space.used.pct.[&quot;{#SNMPINDEX}&quot;].last(0)}&gt;{$EQL_POOL_USED_CRITICAL}</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE}: VolumeSpaceFree</name>
                            <type>CALCULATED</type>
                            <key>eql.pool.space.volume.free[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>B</units>
                            <params>last(&quot;eqlStoragePoolStatsVolumeSubscribed.[\&quot;{#SNMPINDEX}\&quot;]&quot;)-last(&quot;eqlStoragePoolStatsVolumeSpaceAllocated.[\&quot;{#SNMPINDEX}\&quot;]&quot;)</params>
                            <applications>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE}: DelegatedSpace</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.16.1.2.1.17.1.{#SNMPINDEX}</snmp_oid>
                            <key>eqlStoragePoolStatsDelegatedSpace.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>B</units>
                            <applications>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>1048576</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE}: DelegatedSpaceUsed</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.16.1.2.1.18.1.{#SNMPINDEX}</snmp_oid>
                            <key>eqlStoragePoolStatsDelegatedSpaceUsed.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>B</units>
                            <applications>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>1048576</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE}: FailbackSpace</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.16.1.2.1.5.1.{#SNMPINDEX}</snmp_oid>
                            <key>eqlStoragePoolStatsFailbackSpace.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>B</units>
                            <applications>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>1048576</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE} SpaceFree</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.16.1.2.1.3.1.{#SNMPINDEX}</snmp_oid>
                            <key>eqlStoragePoolStatsFreeSpace.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>B</units>
                            <applications>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>1048576</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE}: ReplicationSpace</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.16.1.2.1.4.1.{#SNMPINDEX}</snmp_oid>
                            <key>eqlStoragePoolStatsReplicationSpace.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>B</units>
                            <applications>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>1048576</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE}: ReplicationSpaceUsed</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.16.1.2.1.5.1.{#SNMPINDEX}</snmp_oid>
                            <key>eqlStoragePoolStatsReplicationSpaceUsed.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>B</units>
                            <applications>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>1048576</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE}: SnapshotCount</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.16.1.2.1.13.1.{#SNMPINDEX}</snmp_oid>
                            <key>eqlStoragePoolStatsSnapshotCount.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>!snap</units>
                            <applications>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE}: SnapshotReserved</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.16.1.2.1.9.1.{#SNMPINDEX}</snmp_oid>
                            <key>eqlStoragePoolStatsSnapshotReserved.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>B</units>
                            <applications>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>1048576</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE}: SnapshotUsed</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.16.1.2.1.10.1.{#SNMPINDEX}</snmp_oid>
                            <key>eqlStoragePoolStatsSnapshotUsed.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>B</units>
                            <applications>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>1048576</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE} Space</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.16.1.2.1.1.1.{#SNMPINDEX}</snmp_oid>
                            <key>eqlStoragePoolStatsSpace.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>1h</delay>
                            <trends>1825d</trends>
                            <units>B</units>
                            <applications>
                                <application>
                                    <name>General</name>
                                </application>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>1048576</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE} SpaceUsed</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.16.1.2.1.2.1.{#SNMPINDEX}</snmp_oid>
                            <key>eqlStoragePoolStatsSpaceUsed.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>B</units>
                            <applications>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>1048576</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE}: VolumeCount</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.16.1.2.1.16.1.{#SNMPINDEX}</snmp_oid>
                            <key>eqlStoragePoolStatsVolumeCount.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>!vol</units>
                            <applications>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{diff()}=1</expression>
                                    <name>Number of volumes changed on {#SNMPVALUE} ({ITEM.LASTVALUE1})</name>
                                    <priority>WARNING</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE}: VolumeSpaceAllocated</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.16.1.2.1.21.1.{#SNMPINDEX}</snmp_oid>
                            <key>eqlStoragePoolStatsVolumeSpaceAllocated.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>B</units>
                            <applications>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>1048576</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>Pool: {#SNMPVALUE}: VolumeSubscribed</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.16.1.2.1.20.1.{#SNMPINDEX}</snmp_oid>
                            <key>eqlStoragePoolStatsVolumeSubscribed.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>5m</delay>
                            <trends>1825d</trends>
                            <units>B</units>
                            <applications>
                                <application>
                                    <name>Pools</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>1048576</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                    </item_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>Pool: {#SNMPVALUE}: Space</name>
                            <type>STACKED</type>
                            <graph_items>
                                <graph_item>
                                    <color>3F51B5</color>
                                    <item>
                                        <host>Template Dell Equallogic</host>
                                        <key>eqlStoragePoolStatsVolumeSpaceAllocated.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <color>9FA8DA</color>
                                    <item>
                                        <host>Template Dell Equallogic</host>
                                        <key>eql.pool.space.volume.free[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>2</sortorder>
                                    <color>AB47BC</color>
                                    <item>
                                        <host>Template Dell Equallogic</host>
                                        <key>eqlStoragePoolStatsSnapshotUsed.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>3</sortorder>
                                    <color>E1BEE7</color>
                                    <item>
                                        <host>Template Dell Equallogic</host>
                                        <key>eql.pool.space.snapshot.free[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>4</sortorder>
                                    <color>FFEB3B</color>
                                    <item>
                                        <host>Template Dell Equallogic</host>
                                        <key>eqlStoragePoolStatsReplicationSpaceUsed.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>5</sortorder>
                                    <color>FFF9C4</color>
                                    <item>
                                        <host>Template Dell Equallogic</host>
                                        <key>eql.pool.space.replication.free[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>6</sortorder>
                                    <color>80CBC4</color>
                                    <item>
                                        <host>Template Dell Equallogic</host>
                                        <key>eqlStoragePoolStatsFailbackSpace.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>7</sortorder>
                                    <color>FFA726</color>
                                    <item>
                                        <host>Template Dell Equallogic</host>
                                        <key>eqlStoragePoolStatsDelegatedSpaceUsed.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>8</sortorder>
                                    <color>FFE0B2</color>
                                    <item>
                                        <host>Template Dell Equallogic</host>
                                        <key>eql.pool.space.delegated.free[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>9</sortorder>
                                    <color>7EC25C</color>
                                    <item>
                                        <host>Template Dell Equallogic</host>
                                        <key>eqlStoragePoolStatsFreeSpace.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Volumes discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.12740.5.1.7.1.1.4.{$EQL_ID}]</snmp_oid>
                    <key>snmp.discovery.sanvolumes</key>
                    <delay>3600</delay>
                    <filter>
                        <evaltype>AND</evaltype>
                        <conditions>
                            <condition>
                                <macro>{#SNMPVALUE}</macro>
                                <value>^vss\-control$</value>
                                <operator>NOT_MATCHES_REGEX</operator>
                                <formulaid>A</formulaid>
                            </condition>
                            <condition>
                                <macro>{#SNMPVALUE}</macro>
                                <value>^site\-.*\-ctl$</value>
                                <operator>NOT_MATCHES_REGEX</operator>
                                <formulaid>B</formulaid>
                            </condition>
                            <condition>
                                <macro>{#SNMPVALUE}</macro>
                                <value>^pe\-control\-vol$</value>
                                <operator>NOT_MATCHES_REGEX</operator>
                                <formulaid>C</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <lifetime>7d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#SNMPVALUE} Volume Admin Status</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.5.1.7.1.1.9.{$EQL_ID}.{#SNMPINDEX}</snmp_oid>
                            <key>eqliscsiVolumeAdminStatus.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>300</delay>
                            <trends>1825d</trends>
                            <applications>
                                <application>
                                    <name>Volume</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>eqliscsiVolumeAdminStatus</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last(0)}&lt;&gt;1 and {last(0)}&lt;&gt;2 and {last(0)}&lt;&gt;4</expression>
                                    <name>Volume {#SNMPVALUE} Admin Status</name>
                                    <priority>WARNING</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#SNMPVALUE} Volume Size</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.5.1.7.1.1.8.{$EQL_ID}.{#SNMPINDEX}</snmp_oid>
                            <key>eqliscsiVolumeSize.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>300</delay>
                            <trends>1825d</trends>
                            <units>B</units>
                            <applications>
                                <application>
                                    <name>Volume</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>1000000</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>{#SNMPVALUE} Volume iSCSI Sessions</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.5.1.7.34.1.5.{$EQL_ID}.{#SNMPINDEX}</snmp_oid>
                            <key>eqliscsiVolumeStatsNoOfSessions.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>300</delay>
                            <trends>1825d</trends>
                            <description>No of sessions that were established and closed so far to this volume.</description>
                            <applications>
                                <application>
                                    <name>Volume</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>SIMPLE_CHANGE</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>{#SNMPVALUE} Volume Total Read Latency</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.5.1.7.34.1.6.{$EQL_ID}.{#SNMPINDEX}</snmp_oid>
                            <key>eqliscsiVolumeStatsReadLatency.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>300</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <units>ms</units>
                            <description>The accumulative latency in milliseconds for read operations on this volume.</description>
                            <applications>
                                <application>
                                    <name>Volume</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>{#SNMPVALUE} Volume Read IOPS</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.5.1.7.34.1.8.{$EQL_ID}.{#SNMPINDEX}</snmp_oid>
                            <key>eqliscsiVolumeStatsReadOpCount.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>300</delay>
                            <trends>1825d</trends>
                            <units>IOps</units>
                            <description>The number of read operations on this volume per second.</description>
                            <applications>
                                <application>
                                    <name>Volume</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>{#SNMPVALUE} Volume Bps received</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.5.1.7.34.1.4.{$EQL_ID}.{#SNMPINDEX}</snmp_oid>
                            <key>eqliscsiVolumeStatsRxData.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>300</delay>
                            <trends>1825d</trends>
                            <units>Bps</units>
                            <description>The data octets per second that were received by the local iSCSI node.</description>
                            <applications>
                                <application>
                                    <name>Volume</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>{#SNMPVALUE} Volume Bps transmitted</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.5.1.7.34.1.3.{$EQL_ID}.{#SNMPINDEX}</snmp_oid>
                            <key>eqliscsiVolumeStatsTxData.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>300</delay>
                            <trends>1825d</trends>
                            <units>Bps</units>
                            <description>The data octets per second that were transmitted by the local iSCSI node.</description>
                            <applications>
                                <application>
                                    <name>Volume</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>{#SNMPVALUE} Volume Total Write Latency</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.5.1.7.34.1.7.{$EQL_ID}.{#SNMPINDEX}</snmp_oid>
                            <key>eqliscsiVolumeStatsWriteLatency.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>300</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <units>ms</units>
                            <description>The accumulative latency in milliseconds for write operations on this volume.</description>
                            <applications>
                                <application>
                                    <name>Volume</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>{#SNMPVALUE} Volume Write IOPS</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.5.1.7.34.1.9.{$EQL_ID}.{#SNMPINDEX}</snmp_oid>
                            <key>eqliscsiVolumeStatsWriteOpCount.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>300</delay>
                            <trends>1825d</trends>
                            <units>IOps</units>
                            <description>The number of write operations on this volume per second.</description>
                            <applications>
                                <application>
                                    <name>Volume</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <params/>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>{#SNMPVALUE} Volume Allocated Space</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.12740.5.1.7.7.1.13.{$EQL_ID}.{#SNMPINDEX}</snmp_oid>
                            <key>eqliscsiVolumeStatusAllocatedSpace.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>300</delay>
                            <trends>1825d</trends>
                            <units>B</units>
                            <applications>
                                <application>
                                    <name>Volume</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <params>1000000</params>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <name>{#SNMPVALUE} Volume percent used</name>
                            <type>CALCULATED</type>
                            <key>volumepercentused.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>300</delay>
                            <trends>1825d</trends>
                            <units>%</units>
                            <params>100*last(&quot;eqliscsiVolumeStatusAllocatedSpace.[\&quot;{#SNMPINDEX}\&quot;]&quot;)/(last(&quot;eqliscsiVolumeSize.[\&quot;{#SNMPINDEX}\&quot;]&quot;)+count(&quot;eqliscsiVolumeSize.[\&quot;{#SNMPINDEX}\&quot;]&quot;,#1,0))</params>
                            <applications>
                                <application>
                                    <name>Volume</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>{#SNMPVALUE} Volume Average Read Latency</name>
                            <type>CALCULATED</type>
                            <key>volumeReadAvgLatency.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>300</delay>
                            <trends>1825d</trends>
                            <units>ms</units>
                            <params>last(&quot;eqliscsiVolumeStatsReadLatency.[\&quot;{#SNMPINDEX}\&quot;]&quot;)/(last(&quot;eqliscsiVolumeStatsReadOpCount.[\&quot;{#SNMPINDEX}\&quot;]&quot;)+count(&quot;eqliscsiVolumeStatsReadOpCount.[\&quot;{#SNMPINDEX}\&quot;]&quot;,#1,0))</params>
                            <description>The average latency in milli seconds for read operations on this volume.</description>
                            <applications>
                                <application>
                                    <name>Volume</name>
                                </application>
                            </applications>
                        </item_prototype>
                        <item_prototype>
                            <name>{#SNMPVALUE} Volume Average Write Latency</name>
                            <type>CALCULATED</type>
                            <key>volumeWriteAvgLatency.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>300</delay>
                            <trends>1825d</trends>
                            <units>ms</units>
                            <params>last(&quot;eqliscsiVolumeStatsWriteLatency.[\&quot;{#SNMPINDEX}\&quot;]&quot;)/(last(&quot;eqliscsiVolumeStatsWriteOpCount.[\&quot;{#SNMPINDEX}\&quot;]&quot;)+count(&quot;eqliscsiVolumeStatsWriteOpCount.[\&quot;{#SNMPINDEX}\&quot;]&quot;,#1,0))</params>
                            <description>The average latency in milli seconds for write operations on this volume.</description>
                            <applications>
                                <application>
                                    <name>Volume</name>
                                </application>
                            </applications>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes>
                        <trigger_prototype>
                            <expression>{Template Dell Equallogic:volumeReadAvgLatency.[&quot;{#SNMPINDEX}&quot;].avg(600)}&gt;200 or {Template Dell Equallogic:volumeWriteAvgLatency.[&quot;{#SNMPINDEX}&quot;].avg(600)}&gt;200</expression>
                            <name>High IO latency on volume {#SNMPVALUE}</name>
                            <priority>WARNING</priority>
                        </trigger_prototype>
                    </trigger_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>Volume: {#SNMPVALUE}: Allocation</name>
                            <ymin_type_1>FIXED</ymin_type_1>
                            <graph_items>
                                <graph_item>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>1A7C11</color>
                                    <item>
                                        <host>Template Dell Equallogic</host>
                                        <key>eqliscsiVolumeStatusAllocatedSpace.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <color>F63100</color>
                                    <item>
                                        <host>Template Dell Equallogic</host>
                                        <key>eqliscsiVolumeSize.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                        <graph_prototype>
                            <name>Volume: {#SNMPVALUE}: I/O Bps</name>
                            <graph_items>
                                <graph_item>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>1A7C11</color>
                                    <item>
                                        <host>Template Dell Equallogic</host>
                                        <key>eqliscsiVolumeStatsTxData.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>F63100</color>
                                    <item>
                                        <host>Template Dell Equallogic</host>
                                        <key>eqliscsiVolumeStatsRxData.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                        <graph_prototype>
                            <name>Volume: {#SNMPVALUE}: I/O IOPS</name>
                            <graph_items>
                                <graph_item>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>1A7C11</color>
                                    <item>
                                        <host>Template Dell Equallogic</host>
                                        <key>eqliscsiVolumeStatsReadOpCount.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>F63100</color>
                                    <item>
                                        <host>Template Dell Equallogic</host>
                                        <key>eqliscsiVolumeStatsWriteOpCount.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                        <graph_prototype>
                            <name>Volume: {#SNMPVALUE}: Latency</name>
                            <graph_items>
                                <graph_item>
                                    <color>1A7C11</color>
                                    <item>
                                        <host>Template Dell Equallogic</host>
                                        <key>volumeReadAvgLatency.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <color>F63100</color>
                                    <item>
                                        <host>Template Dell Equallogic</host>
                                        <key>volumeWriteAvgLatency.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                </discovery_rule>
            </discovery_rules>
            <macros>
                <macro>
                    <macro>{$EQL_ID}</macro>
                    <value>0</value>
                </macro>
                <macro>
                    <macro>{$EQL_NAME}</macro>
                    <value>Equallogic</value>
                </macro>
                <macro>
                    <macro>{$EQL_POOL_DELEGATED_CRITICAL}</macro>
                    <value>95</value>
                    <description>Delegated space usage critical threshold</description>
                </macro>
                <macro>
                    <macro>{$EQL_POOL_DELEGATED_WARN}</macro>
                    <value>85</value>
                    <description>Delegated space usage warn threshold</description>
                </macro>
                <macro>
                    <macro>{$EQL_POOL_REPL_CRITICAL}</macro>
                    <value>90</value>
                    <description>Replication space usage critical threshold</description>
                </macro>
                <macro>
                    <macro>{$EQL_POOL_REPL_WARN}</macro>
                    <value>80</value>
                    <description>Replication space usage warn threshold</description>
                </macro>
                <macro>
                    <macro>{$EQL_POOL_SNAP_CRITICAL}</macro>
                    <value>90</value>
                    <description>Snapshot space usage critical threshold</description>
                </macro>
                <macro>
                    <macro>{$EQL_POOL_SNAP_WARN}</macro>
                    <value>80</value>
                    <description>Snapshot space usage warn threshold</description>
                </macro>
                <macro>
                    <macro>{$EQL_POOL_USED_CRITICAL}</macro>
                    <value>90</value>
                    <description>Pool usage critical threshold</description>
                </macro>
                <macro>
                    <macro>{$EQL_POOL_USED_WARN}</macro>
                    <value>85</value>
                    <description>Pool usage warn threshold</description>
                </macro>
            </macros>
        </template>
    </templates>
    <graphs>
        <graph>
            <name>Global SAN I/O (iops)</name>
            <graph_items>
                <graph_item>
                    <drawtype>GRADIENT_LINE</drawtype>
                    <color>3333FF</color>
                    <item>
                        <host>Template Dell Equallogic</host>
                        <key>eqlMemberReadOpCount</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <drawtype>GRADIENT_LINE</drawtype>
                    <color>EE0000</color>
                    <item>
                        <host>Template Dell Equallogic</host>
                        <key>eqlMemberWriteOpCount</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
    </graphs>
    <value_maps>
        <value_map>
            <name>eqlControllerBatteryStatus</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>ok</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>failed</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>good-battery-is-charging</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>low-voltage-status</newvalue>
                </mapping>
                <mapping>
                    <value>5</value>
                    <newvalue>low-voltage-is-charging</newvalue>
                </mapping>
                <mapping>
                    <value>6</value>
                    <newvalue>missing-battery</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>eqlDiskStatus</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>on-line</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>spare</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>failed</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>off-line</newvalue>
                </mapping>
                <mapping>
                    <value>5</value>
                    <newvalue>alt-sig</newvalue>
                </mapping>
                <mapping>
                    <value>6</value>
                    <newvalue>too-small</newvalue>
                </mapping>
                <mapping>
                    <value>7</value>
                    <newvalue>history-of-failures</newvalue>
                </mapping>
                <mapping>
                    <value>8</value>
                    <newvalue>unsupported-version</newvalue>
                </mapping>
                <mapping>
                    <value>9</value>
                    <newvalue>unhealthy</newvalue>
                </mapping>
                <mapping>
                    <value>10</value>
                    <newvalue>replacement</newvalue>
                </mapping>
                <mapping>
                    <value>11</value>
                    <newvalue>encrypted</newvalue>
                </mapping>
                <mapping>
                    <value>12</value>
                    <newvalue>notApproved</newvalue>
                </mapping>
                <mapping>
                    <value>13</value>
                    <newvalue>preempt-failed</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>eqliscsiVolumeAdminStatus</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>online</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>offline</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>online-lost-cached-blocks</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>online-control</newvalue>
                </mapping>
                <mapping>
                    <value>5</value>
                    <newvalue>offline-control</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>eqlMemberHealthDetailsFanCurrentState</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>unknown</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>normal</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>warning</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>critical</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>eqlMemberHealthDetailsPowerSupplyCurrentState</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>on-and-operating</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>no-ac-power</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>failed-or-no-data</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>eqlMemberHealthDetailsTemperatureCurrentState</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>unknown</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>normal</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>warning</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>critical</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>eqlMemberHealthStatus</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>Unknown</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>Normal</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>Warning</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>Critical</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>eqlMemberRaidStatus</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>ok</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>degraded</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>verifying</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>reconstructing</newvalue>
                </mapping>
                <mapping>
                    <value>5</value>
                    <newvalue>failed</newvalue>
                </mapping>
                <mapping>
                    <value>6</value>
                    <newvalue>catastrophicLoss</newvalue>
                </mapping>
                <mapping>
                    <value>7</value>
                    <newvalue>expanding</newvalue>
                </mapping>
                <mapping>
                    <value>8</value>
                    <newvalue>mirroring</newvalue>
                </mapping>
            </mappings>
        </value_map>
    </value_maps>
</zabbix_export>
